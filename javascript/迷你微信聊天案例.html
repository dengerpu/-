<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>迷你微信聊天</title>
	<style type="text/css">
	*{margin:0; padding:0;}
	.box{
		width: 450px;
		height: 600px;
		background-color: #eee;
		margin: 100px auto;
		position: relative;
		box-shadow: 0px 0px 16px #999;
	}
	.header{
		background-color: #000;
		color: #fff;
		height: 40px;
		line-height: 40px;
		font-size: 20px;
		padding: 0 10px;
	}
	.left{
		float: left;
	}
	.right{
		float: right;
	}
	.footer{
		width: 430px;
		height: 40px;
		background-color: #999;
		position: absolute;
		bottom: 0;
		padding: 10px;
	}
	.footer input{
		width: 300px;
		height: 38px;
		outline: none;
		font-size: 16px;
		text-indent: 10px;
		position: absolute;
		border-radius: 6px;
		right: 80px;
	}
	.footer span{
		display: inline-block;
		width: 62px;
		height: 38px;
		background-color: #ccc;
		font-weight: 900;
		line-height: 38px;
		cursor: pointer;
		text-align: center;
		position: absolute;
		right: 10px;
		top: 14px;
		border-radius: 6px;
	}
	.footer span:hover{
		color: #777;
		background-color: #ddd;
	}
	.icon{
		display: inline-block;
		background-color: red;
		width: 50px;
		height: 50px;
		border-radius: 30px;
		position: absolute;
		left: 10px;
		cursor: pointer;
		overflow: hidden;
	}
	img{
		width: 60px;
		height: 60px;
		border-radius: 8px;
	}
	.content{
		font-size: 20px;
		width: 435px;
		height: 662px;
		overflow: auto;
		padding: 5px;
	}
	.content li{
		margin-top: 10px;
		padding-left: 10px;
		width: 412px;
		display: block;
		clear: both;
		overflow: hidden;
	}
	.content li span {
		padding: 10px;
		border-radius: 10px;
		margin: 6px 10px 0 10px;
		max-width: 310px;
		border: 1px solid #ccc;
		box-shadow: 0 0 3px #ccc;
		display: block;
	}
			.imgleft {
			float: left;
		}

		.imgright {
			float: right;
		}

		.spanleft{
			float: left;
			background: #fff;
			position: relative;
		}
		.spanleft::before{
			content: "";
			display: block;
			border: 5px solid transparent;
			border-right: 5px solid #fff;
			position: absolute;
			top: 15px;
			left: -10px;
		}
		.spanright{
			float: right;
			position: relative;
			background: #7cfc00;
		}
		.spanright::before{
			content: "";
			border: 5px solid transparent;
			border-left: 5px solid #7cfc00;
			position: absolute;
			top: 15px;
			right: -10px;
		}

	</style>
</head>
<body>
	<div class="box">
		<div class="header"><span class="left">马化腾</span><span class="right">20:03</span></div>
		<ul class="content"></ul>
		<div class="footer">
			<div class="icon"><img src="images/1.png" id="icon"></div>
			<input type="text" placeholder="说点什么吧..."><span id="btn">发送</span>
		</div>
	</div>
	<script type="text/javascript">
	var img=document.querySelector('#icon');
	var arr=["images/1.png","images/2.png"];
	var tag=0;
	img.addEventListener('click',function(){
		if(tag==0){
			img.src=arr[1];
			tag=1;
		}else{
			img.src=arr[0];
			tag=0;
		}
	})

	var btn=document.querySelector('#btn');
	var ul=document.querySelector('ul');
	var num=-1;
	btn.addEventListener('click',function(){
		var text=document.querySelector('input').value;
		if(text==""){
			alert('聊天内容不能为空');
		}else{
			ul.innerHTML+="<li><img src='"+arr[tag]+"'/><span>"+text+"</span></li>";
		}
		var imgs=ul.getElementsByTagName('img');
		var span=ul.getElementsByTagName('span');
		num++;
		if(tag == 0){
				imgs[num].className = "imgleft";
				span[num].className = "spanleft";
			}else{
				imgs[num].className = "imgright";
				span[num].className = "spanright";
			}

			document.querySelector('input').value="";
	})
	</script>
</body>
</html>