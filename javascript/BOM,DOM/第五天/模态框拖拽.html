<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>模态框拖拽</title>
	<style>
	    .top div{
	    	text-align: center;
	    	font-size: 30px;
	    	margin: 0 auto;
	    }
	    .login{
	    	display: none;
	    	width: 512px;
            height: 280px;
            position: fixed;
            border:1px solid #ebebeb;
            left:36%;
            top:36%;
            background-color: #ffffff;
            box-shadow:0px 0px 20px #ddd;
            z-index:999;
	    }
		.lg-title{
			position: relative;
			width: 100%;
			margin: 10px 0px 0px 0px;
			text-align: center;
			height: 40px;
			line-height: 40px;
			font-size: 18px;
			cursor: move;
		}
		span{
			position: absolute;
			font-size: 12px;
			right: -20px;
			top: -30px;
			background-color: #ffffff;
			border: 1px solid #ebebeb;
			width: 40px;
			height: 40px;
			line-height: 40px;
			text-align: center;
			border-radius: 20px;
		}
		input{
			height: 35px;
			line-height: 35px;
			width: 350px;
			border: 1px solid #ebebeb;
			text-indent: 5px;
		}
		.lg-input{
			margin-top:20px;
			overflow:hidden;
		}
		.lg-input label{
			float: left;
			width: 90px;
			padding-right: 10px;
			text-align:right;
			height: 35px;
			line-height: 35px;
			font-size: 14px;
		}
		.lg-pw{
			margin-top:20px;
		}
		.lg-buttom{
			width: 50%;
			margin: 30px auto 0px auto;
			line-height: 40px;
			font-size: 14px;
			border: 1px solid #ebebeb;
			text-align: center;
		}
		a{
			text-decoration: none;
			color: #000000;
		}
		.bg{
			display: none;
			width:100%;
			height: 100%;
			position: fixed;
			top: 0px;
			left:0px;
			 background: rgba(0, 0, 0, .3);
		}
	</style>
</head>
<body>

	<div class="top"><div>点击，弹出登陆窗</div></div>
	<div class="login">
	<span><a href="javascript:void(0)">关闭</a></span>
	    <div class="lg-title">登录会员</div>
	       <div class="lg-input">
	             <div class="lg-us"><label>用户名：</label>  <input type="text" placeholder="请输入用户名"></div>
	              <div class="lg-pw"><label>登录密码：</label><input type="password" placeholder="请输入登录密码"></div>
	          </div>
	   <div class="lg-buttom"><a href="http://www.baidu.com">登录会员</a></div>
	</div>
	<div class="bg"></div>
	<script type="text/javascript">
	var btn=document.querySelector(".top");
	var login=document.querySelector('.login');
	var bg=document.querySelector('.bg');
	var close=document.querySelector('span')
	var title=document.querySelector('.lg-title');
	btn.addEventListener('click',function(){
		login.style.display="block";
		bg.style.display="block";
	})
	close.addEventListener('click',function(){
		login.style.display="none";
		bg.style.display="none";		
	})
	title.addEventListener('mousedown',function(e){
		var x=e.pageX - login.offsetLeft;
		var y=e.pageY-login.offsetTop;
		console.log(x);
		console.log(y);
		document.addEventListener('mousemove',move);
		function move(e){
			login.style.left=e.pageX-x+'px';
			login.style.top=e.pageY-y+'px';
		}
		document.addEventListener('mouseup',function(){
			document.removeEventListener('mousemove',move);
		})

	})

	document.addEventListener('selectstart',function(e){//禁止鼠标选中，可以不复制
		e.preventDefault();
	})


	</script>
</body>
</html>